version: '3'

services:
  app:
    build:
      context: .
    container_name: laravel-app
    ports:
      - "80:80"
    volumes:
      - .:/var/www/html
    environment:
      - APP_NAME=Laravel
      - APP_ENV=local
      - APP_KEY=base64:RFVf1RHhi38ZVV+I/yf4hhrhnQFbEDlkUXDxNeALiE8=
      - APP_DEBUG=true
      - APP_URL=http://localhost

      - APP_LOCALE=en
      - APP_FALLBACK_LOCALE=en
      - APP_FAKER_LOCALE=en_US

      - APP_MAINTENANCE_DRIVER=file
        # APP_MAINTENANCE_STORE=database

      - PHP_CLI_SERVER_WORKERS=4

      - BCRYPT_ROUNDS=12

        - LOG_CHANNEL=stack
        - LOG_STACK=single
        - LOG_DEPRECATIONS_CHANNEL=null
        - LOG_LEVEL=debug

        - DB_CONNECTION=pgsql
        - DB_HOST=aws-0-ap-northeast-1.pooler.supabase.com
        - DB_PORT=6543
        - DB_DATABASE=postgres
        - DB_USERNAME=postgres.aajfhlhsukhtzeqqzbds
        - DB_PASSWORD=5MLAmeWE_*qaJTm

        - SESSION_DRIVER=database
        - SESSION_LIFETIME=120
        - SESSION_ENCRYPT=false
        - SESSION_PATH=/
        - SESSION_DOMAIN=null

        - BROADCAST_CONNECTION=log
        - FILESYSTEM_DISK=local
        - QUEUE_CONNECTION=database

        - CACHE_STORE=database
        - MEMCACHED_HOST=127.0.0.1

        - REDIS_CLIENT=phpredis
        - REDIS_HOST=127.0.0.1
        - REDIS_PASSWORD=null
        - REDIS_PORT=6379

        - MAIL_MAILER=log
        - MAIL_SCHEME=null
        - MAIL_HOST=127.0.0.1
        - MAIL_PORT=2525
        - MAIL_USERNAME=null
        - MAIL_PASSWORD=null
        - MAIL_FROM_ADDRESS="hello@example.com"
        - MAIL_FROM_NAME="${APP_NAME}"

        - AWS_ACCESS_KEY_ID=
        - AWS_SECRET_ACCESS_KEY=
        - AWS_DEFAULT_REGION=us-east-1
        - AWS_BUCKET=
        - AWS_USE_PATH_STYLE_ENDPOINT=false

        - VITE_APP_NAME="${APP_NAME}"

        - CLOUDFLARE_TOKEN=53EIRfczrrMaN3YhfP6D-8pk5EHu30HpEOXHVG2h
        - CLOUDFLARE_ACCOUNT_ID=c368d22823f32d484e7402c058108c4a
        - CLOUDFLARE_D1_DATABASE_ID=533fa470-9a98-48a6-a5cd-e5e559c8841c
    networks:
      - app-network
